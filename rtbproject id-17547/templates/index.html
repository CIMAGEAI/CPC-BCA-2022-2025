{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Restaurant Booking</title>
  <link rel="stylesheet" href="{% static 'style.css' %}"/>
  
</head>
<body>
  <body style="background-image: url('{% static 'img/r1.jpg' %}');">
    <div class="main">
        <div class="navbar">
            <div class="icon">
                <h2 class="logo">RTB</h2>
            </div>

            <div class="menu">
              <ul>
                <li><a href="/home">HOME</a></li>
                <li><a href="/about">ABOUT</a></li>
                <li><a href="/menu"> MENU</a></li>
                <li><a href="/book">BOOK  </a></li>
                <li><a href="/contact">CONTACT</a></li>
              </ul>
            </div>
            <div class="search">
           <form id="searchForm" style="display: flex;">
           <input id="searchInput" class="srch" type="search" name="q" placeholder="Search restaurant..." required>
           <button id="searchBtn" class="btn" type="submit">Search</button>
           </form>

            </div>

      

            <div class="login">
            {% if user.is_authenticated %}
            <a href="#" style="color: white; pointer-events: none;">Hi, {{ user.username }}</a>
            <a href="/logout/">Logout</a>
            {% else %}
            <a href="/login/">Login</a>
            {% endif %}
            </div>

        </div> 
            
            <div class="content">
              <h1>Experience Culinary Delights <br> in a Warm & Elegant Setting</h1>
              <p class="par">Welcome to <strong>RTB – Restaurant Table Booking</strong>,<br> where flavors meet comfort. <br>
              <span>Reserve your table in seconds and <br> enjoy unforgettable dining experiences.</span></p>


              <a href="/login" class="cn">VISIT US</a>

            </div>
            
            <br><br><br>
        
          <section class="menu-section">
             <h2 class="section-title"> Restaurants</h2>
             <div class="menu-cards">
            
              
              <div class="card">
             <div class="slideshow" data-images="1.webp,2.webp,3.webp"></div>
              <h3>Hello Restaurant & Cafe</h3>
              <h5> above of One+ Mobile, Boring Rd, near Panchmukhi Hanuman Mandir, Patna, Bihar 800001<h5><br>
              <div class="rating">
                 ★★★★★(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/hello/" class="menu-btn">See Menu</a>
              <a href="/book/hello/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="2.1.webp,2.2.webp,2.3.webp,2.4.webp"></div>
              <h3>Vrihi Skydeck </h3>
              <h5>Atal Path, near Rajdhani Apartment, Mahesh Nagar, Keshri Nagar, Patna, Bihar 800024</h5><br>
              <div class="rating">
                 ★★★★★(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/vrihi" class="menu-btn">See Menu</a>
              <a href="/book/vrihi/" class="table-btn">Book Table</a>
              </div>

               <div class="card">
               <div class="slideshow" data-images="3.1.webp,3.2.webp,3.3.webp,3.4.webp,3.5.webp"></div>
              <h3>La Casa cafe</h3>
              <h5> Boring Patliputra Rd, opposite kamini center, near CISF building, New Patliputra Colony, Patliputra Colony, Patna, Bihar 800013</h5>
              <div class="rating">
                 ★★★★★(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/lacasa/" class="menu-btn">See Menu</a>
              <a href="/book/lacasa/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
               <div class="slideshow" data-images="4.1.webp,4.2.webp,4.3.webp,4.4.webp,4.5.webp"></div>
              <h3>RQ Dine & Banquet</h3>
              <h5>1st Floor, Hardi Complex, Dakbungalow Chauraha, above P.C. Chandra Jewellers, Old Jakkanpur, Fraser Road Area, Patna, Bihar 800001</h5>
              <div class="rating">
                 ★★★★★(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/rq/" class="menu-btn">See Menu</a>
              <a href="/book/rq/" class="table-btn">Book Table</a>
              </div>

             <div class="card">
              <div class="slideshow" data-images="5.1.webp,5.2.webp,5.3.webp,5.4.webp"></div>
              <h3>Dropout Cafe & Restaurant</h3>
              <h5>auto stand, Bhootnath Rd, opposite Shrinivas tower, Vijay Nagar, Patna, Bihar 800026</h5><br>
              <div class="rating">
                 ★★★★★(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/dropout/" class="menu-btn">See Menu</a>
              <a href="/book/dropout/" class="table-btn">Book Table</a>
              </div>

            

              <div class="card">
              <div class="slideshow" data-images="6.1.webp,6.2.webp,6.3.webp,6.4.webp"></div>
              <h3>The Grind House</h3>
              <h5>P C Colony Rd, opp. Patliputra Sports Complex, Housing Board Colony, East Indira Nagar, Kankarbagh, Patna, Bihar 800020</h5>
              <div class="rating">
                 ★★★★☆(4.4/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/grind/" class="menu-btn">See Menu</a>
              <a href="/book/grind/" class="table-btn">Book Table</a>
              
              </div>

              <div class="card">
             <div class="slideshow" data-images="7.4.webp,7.1.webp,7.3.webp,7.2.webp"></div>
              <h3>Bloom Kitchen </h3>
              <h5> 70ft road, Vijay Nagar Rd, near NBCC Tower, Hanuman Nagar, Patna, Bihar 800026</h5><br>
              <div class="rating">
                 ★★★★☆(4.2/5) <!-- or use stars dynamically if needed -->
                </div>
               <a href="/menu/bloom/" class="menu-btn">See Menu</a>
              <a href="/book/bloom/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="8.1.webp,8.2.webp,8.3.webp,8.4.webp"></div>
              <h3>Pyne Square </h3>
              <h5>2nd Floor, Parshu Villa, Gayatri Mandir Rd, Housing Board Colony, Kankarbagh, Patna, Bihar 800020</h5><br>
              <div class="rating">
                 ★★★★☆(4.5/5) <!-- or use stars dynamically if needed -->
                </div>
               <a href="/menu/pyne/" class="menu-btn">See Menu</a>
               <a href="/book/pyne/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="9.1.webp,9.2.webp,9.3.webp,9.4.webp"></div>
              <h3>Garage Kitchen</h3>
              <h5>4M, 168, Bhootnath Rd, Bahadurpur Housing Colony, Mahatma Gandhi Nagar, Chitragupta Nagar, Patna, Bihar 800026</h5>
              <div class="rating">
                 ★★★★★(4.5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/garage/" class="menu-btn">See Menu</a>
               <a href="/book/garage/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="10.1.webp,10.2.webp,10.3.webp,10.4.webp"></div>
              <h3>The Backstreet Kitchen</h3>
              <h5> India Machinery Campus, West of Kumhrar Park, Kumhrar, Patna, Bihar 800026</h5>
              <div class="rating">
                 ★★★☆☆(5/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/backstreet/" class="menu-btn">See Menu</a>
               <a href="/book/backstreet/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="11.1.webp,11.2.webp,11.3.webp,11.4.webp"></div>
              <h3>Skyfall rooftop restaurant</h3>
              <h5> B-1, P C Colony Rd, near Lohiya park, Housing Board Colony, Kankarbagh, Patna, Bihar 800020</h5>
              <div class="rating">
                 ★★★★★(4/5) <!-- or use stars dynamically if needed -->
                </div>
              <a href="/menu/skyfall/" class="menu-btn">See Menu</a>
               <a href="/book/skyfall/" class="table-btn">Book Table</a>
              </div>

              <div class="card">
              <div class="slideshow" data-images="12.1.webp,12.2.webp,12.3.webp,12.4.webp"></div>
              <h3>The Atmos 3</h3>
              <h5>Commercial plot 08, Above Ginni 99 Tasty The Atmos 3, Sri Krishna Puri, Patna, Bihar 800001</h5>
              <div class="rating">
                 ★★★★☆(4.4/5) <!-- or use stars dynamically if needed -->
                </div>
             <a href="/menu/atom/" class="menu-btn">See Menu</a>
              <a href="/book/atom/" class="table-btn">Book Table</a>
              </div>
             
            </div>

            <section class="about-section">
      <div class="about-content">
        <div class="about-text">
          <h1>About RTB - Restaurant Table Booking</h1>
          <p>
            At <strong>RTB</strong>, we believe dining should be more than just food – it should be an experience.
            Our platform connects food lovers with the finest restaurants, allowing them to book tables effortlessly.
            <br><br>
            Whether you're planning a romantic dinner, a family celebration, or a corporate lunch,
            our curated list of restaurants offers something for every taste and occasion.
            <br><br>
            With real-time availability, curated menus, and trusted reviews, RTB is your reliable partner for seamless dining experiences.
          </p>
        </div>

        <div class="about-image">
          <img src="{% static 'img/rtb.png' %}" alt="RTB Restaurant Experience">
        </div>
      </div>
    </section>
  
  <footer class="custom-footer">
    <div class="footer-wrapper">
      <div class="footer-column">
        <h2 class="footer-logo">RTB</h2>
        <p>Your favorite place to reserve tables and explore the best restaurants.</p>
      </div>

      <div class="footer-column">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="/home">Home</a></li>
          <li><a href="/menu">Menu</a></li>
          <li><a href="/book">Book </a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h3>Contact Us</h3>
        <p>Email: rriyaraj17547@gmail.com</p>
        <p>Phone: +91 98765 43210</p>
        <p>Location: Patna, Bihar</p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 RTB — All rights reserved.</p>
    </div>
  </footer>
</body>


   <script>
document.addEventListener("DOMContentLoaded", function () {
  const searchForm = document.getElementById("searchForm");
  const searchInput = document.getElementById("searchInput");
  const cards = document.querySelectorAll(".card");
  let searchActive = false;

  searchForm.addEventListener("submit", function (e) {
    e.preventDefault();
    const searchTerm = searchInput.value.toLowerCase().trim();

    let found = false;
    cards.forEach(card => {
      const title = card.querySelector("h3").textContent.toLowerCase();
      if (title.includes(searchTerm)) {
        card.style.display = "block";
        found = true;
      } else {
        card.style.display = "none";
      }
    });

    // Save query to backend if found
    if (searchTerm && found) {
      fetch(`/save-search/?q=${encodeURIComponent(searchTerm)}`);
    }

    if (found) {
      searchActive = true;
    }
  });

  // ⬅️ Jab bhi user page me kahin click kare, to wapas home bhej do
  document.addEventListener("click", function (e) {
    if (searchActive && !e.target.closest("#searchForm")) {
      window.location.href = "/";  // Change to your homepage URL if not "/"
    }
  });
});


document.addEventListener("DOMContentLoaded", () => {
  const slideshows = document.querySelectorAll(".slideshow");

  slideshows.forEach(slideshow => {
    const images = slideshow.dataset.images.split(",");
    let index = 0;
    let interval;

    const startSlideshow = () => {
      interval = setInterval(() => {
        index = (index + 1) % images.length;
        slideshow.style.backgroundImage = `url(/static/img/${images[index]})`;
      }, 1000); // Change image every 1 second
    };

    const stopSlideshow = () => {
      clearInterval(interval);
      slideshow.style.backgroundImage = `url(/static/img/${images[0]})`;
      index = 0;
    };

    // Set initial background
    slideshow.style.backgroundImage = `url(/static/img/${images[0]})`;

    // Start slideshow on hover
    slideshow.addEventListener("mouseenter", startSlideshow);
    slideshow.addEventListener("mouseleave", stopSlideshow);
  });
});
</script>
</body>
</html>
